---
import HeroBanner from "./blocks/HeroBanner.astro";
import Mission from "./blocks/Mission.astro";
import CallForProjects from "./blocks/CallForProjects.astro";
import NewsTeaser from "./blocks/NewsTeaser.astro";
import Contact from "./blocks/Contact.astro";
import NewsGrid from "./blocks/NewsGrid.astro";
import StagesOfTheCase from "./blocks/StagesOfTheCase.astro";
import ProjectSubmission from "./blocks/ProjectSubmission.astro";
import ContactForm from "./blocks/ContactForm.astro";

const { blocks, slug, pageTitle } = Astro.props;
---

{
  blocks?.map((block: any) => {
    const View =
      block.collection === "block_hero_banner"
        ? HeroBanner
        : block.collection === "block_mission"
          ? Mission
          : block.collection === "block_call_for_projects"
            ? CallForProjects
            : block.collection === "block_news"
              ? NewsTeaser
              : block.collection === "block_contact"
                ? Contact
                : block.collection === "block_news_grid"
                  ? NewsGrid
                  : block.collection === "block_contact"
                    ? Contact
                    : block.collection === "block_stages_of_the_case"
                      ? StagesOfTheCase
                      : block.collection === "block_project_submission"
                        ? ProjectSubmission
                        : block.collection === "block_contact_form"
                          ? ContactForm
                          : () => null;
    return View && <View {...block} slug={slug} pageTitle={pageTitle} />;
  })
}
